<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Control - Salsabilah Empire</title>
    <style>
        :root { --primary: #1a252f; --gold: #d4af37; --danger: #c0392b; --success: #27ae60; }
        body { font-family: 'Segoe UI', sans-serif; background: #f4f7f6; margin: 0; color: #333; }
        .nav { background: var(--primary); color: white; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 4px solid var(--gold); }
        .container { max-width: 1000px; margin: 30px auto; padding: 20px; }
        .admin-card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        h2 { border-left: 5px solid var(--gold); padding-left: 10px; color: var(--primary); }
        button { cursor: pointer; padding: 12px 20px; border: none; border-radius: 8px; font-weight: bold; transition: 0.3s; width: 100%; margin-top: 10px; }
        .btn-backup { background: var(--primary); color: white; }
        .btn-reset { background: var(--danger); color: white; }
        .btn-sync { background: var(--success); color: white; }
        .stats-box { background: #f9f9f9; padding: 15px; border-radius: 10px; border: 1px solid #ddd; }
        pre { background: #272822; color: #f8f8f2; padding: 15px; border-radius: 10px; overflow-x: auto; font-size: 12px; }
    </style>
</head>
<body>

<div class="nav">
    <div><strong>SALSABILAH AMIN EMPIRES</strong> | Admin Panel</div>
    <div>Reg No: 09814720 (UK)</div>
</div>

<div class="container">
    <div class="grid">
        <div class="admin-card">
            <h2>üíæ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</h2>
            <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶∞ ‡¶∏‡¶ï‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ (Inventory & Ledger) ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶®‡¶ø‡¶®‡•§</p>
            <button class="btn-backup" onclick="exportData()">Download Backup (JSON)</button>
            <hr>
            <p style="color: var(--danger); font-size: 13px;">‡¶∏‡¶æ‡¶¨‡¶ß‡¶æ‡¶®: ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡¶¨ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá!</p>
            <button class="btn-reset" onclick="resetSystem()">Factory Reset System</button>
        </div>

        <div class="admin-card">
            <h2>‚öôÔ∏è ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶á‡¶®‡ßç‡¶ü‡ßá‡¶≤‡¶ø‡¶ú‡ßá‡¶®‡ßç‡¶∏</h2>
            <div class="stats-box">
                <p><strong>PWA Status:</strong> <span style="color:var(--success)">Online & Cached</span></p>
                <p><strong>Database Size:</strong> <span id="dbSize">0</span> KB</p>
                <p><strong>Price Guardian:</strong> Active</p>
            </div>
            <button class="btn-sync" onclick="location.href='software.html'">Go to POS System</button>
        </div>
    </div>

    <div class="admin-card">
        <h2>üîç Raw Data Inspection (JSON)</h2>
        <p>‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡ßá‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡ßá‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡¶ö‡¶æ‡¶∞:</p>
        <pre id="jsonViewer">Loading data...</pre>
    </div>
</div>

<script>
    // ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
    function loadAdminData() {
        const data = localStorage.getItem('empire_db');
        if (data) {
            document.getElementById('jsonViewer').innerText = JSON.stringify(JSON.parse(data), null, 4);
            document.getElementById('dbSize').innerText = (data.length / 1024).toFixed(2);
        } else {
            document.getElementById('jsonViewer').innerText = "‡¶ï‡ßã‡¶® ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§";
        }
    }

    // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü
    function exportData() {
        const data = localStorage.getItem('empire_db');
        if(!data) return alert("‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶®‡ßá‡¶ì‡ßü‡¶æ‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶æ‡¶ü‡¶æ ‡¶®‡ßá‡¶á!");
        
        const blob = new Blob([data], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `Salsabilah_Backup_${new Date().toLocaleDateString()}.json`;
        a.click();
    }

    // ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü
    function resetSystem() {
        if (confirm("‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§? ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶ï‡¶≤ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶ü‡¶ï‡ßá‡¶∞ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶™‡¶æ‡¶ï‡¶æ‡¶™‡¶æ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá!")) {
            localStorage.removeItem('empire_db');
            alert("‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§");
            location.reload();
        }
    }

    // ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶∞‡¶æ‡¶® ‡¶π‡¶¨‡ßá
    loadAdminData();
</script>

</body>
</html>
